!function(a,b){"use strict";a.DynamicControl=a.Control.extend({initialize:function(c,d){var e,f=this;e=d||{},e.params=e.params||{},e.params.type||(e.params.type="dynamic"),e.params.content||(e.params.content=b("<li></li>"),e.params.content.attr("id","customize-control-"+c.replace(/]/g,"").replace(/\[/g,"-")),e.params.content.attr("class","customize-control customize-control-"+e.params.type)),f.propertyElements=[],a.Control.prototype.initialize.call(f,c,e)},_setUpSettingRootLinks:function(){var c,d,e;c=this,d=c.container.find("[data-customize-setting-link]"),e={},d.each(function(){var f,g=b(this);if(g.is(":radio")){if(f=g.prop("name"),e[f])return;e[f]=!0,g=d.filter('[name="'+f+'"]')}a(g.data("customizeSettingLink"),function(b){var d=new a.Element(g);c.elements.push(d),d.sync(b),d.set(b())})})},_setUpSettingPropertyLinks:function(){var c,d,e=this;e.setting&&(c=e.container.find("[data-customize-setting-property-link]"),d={},c.each(function(){var f,g,h=b(this),i=h.data("customizeSettingPropertyLink");if(h.is(":radio")){if(f=h.prop("name"),d[f])return;d[f]=!0,h=c.filter('[name="'+f+'"]')}g=new a.Element(h),e.propertyElements.push(g),g.set(e.setting()[i]),g.bind(function(a){var b=e.setting();a!==b[i]&&(b=_.clone(b),b[i]=a,e.setting.set(b))}),e.setting.bind(function(a){a[i]!==g.get()&&g.set(a[i])})}))},ready:function(){var b=this;b._setUpSettingRootLinks(),b._setUpSettingPropertyLinks(),a.Control.prototype.ready.call(b),b.deferred.embedded.done(function(){})},embed:function(){var b=this,c=b.section();c&&a.section(c,function(c){c.expanded()||a.settings.autofocus.control===b.id?b.actuallyEmbed():c.expanded.bind(function(a){a&&b.actuallyEmbed()})})},actuallyEmbed:function(){var a=this;"resolved"!==a.deferred.embedded.state()&&(a.renderContent(),a.deferred.embedded.resolve())},focus:function(b){var c=this;c.actuallyEmbed(),a.Control.prototype.focus.call(c,b)}}),a.controlConstructor.dynamic=a.DynamicControl}(wp.customize,jQuery);