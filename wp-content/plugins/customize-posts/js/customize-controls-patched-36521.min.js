!function(a,b){"use strict";a.MediaControl.prototype.ready=function(){function c(c){var e=b.Deferred(),f=c;d.extended(a.UploadControl)?e.resolve():(f=parseInt(f,10),_.isNaN(f)||f<=0?(delete d.params.attachment,e.resolve()):d.params.attachment&&d.params.attachment.id===f&&e.resolve()),"pending"===e.state()&&wp.media.attachment(f).fetch().done(function(){d.params.attachment=this.attributes,e.resolve(),wp.customize.previewer.send(d.setting.id+"-attachment-data",this.attributes)}),e.done(function(){d.renderContent()})}var d=this;_.bindAll(d,"restoreDefault","removeFile","openFrame","select","pausePlayer"),d.container.on("click keydown",".upload-button",d.openFrame),d.container.on("click keydown",".upload-button",d.pausePlayer),d.container.on("click keydown",".thumbnail-image img",d.openFrame),d.container.on("click keydown",".default-button",d.restoreDefault),d.container.on("click keydown",".remove-button",d.pausePlayer),d.container.on("click keydown",".remove-button",d.removeFile),d.container.on("click keydown",".remove-button",d.cleanupPlayer),a.section(d.section()).container.on("expanded",function(){d.player&&d.player.setControlsSize()}).on("collapsed",function(){d.pausePlayer()}),c(d.setting()),d.setting.bind(c)}}(wp.customize,jQuery);